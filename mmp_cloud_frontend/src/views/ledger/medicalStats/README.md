# 医疗统计仪表板

## 功能概述

医疗统计仪表板是一个综合性的医疗数据展示页面，提供了医院各项医疗统计数据的实时查看功能。

## 主要功能

### 1. 医疗统计报表

显示以下20项关键医疗指标：

- **新入**：当日新入院患者数量
- **在区**：当前在院患者数量
- **危重**：危重症患者数量
- **出区**：当日出院患者数量
- **死亡**：死亡患者数量
- **转入**：转入患者数量
- **转出**：转出患者数量
- **关注患者**：需要特别关注的患者数量
- **抢救**：抢救次数
- **危急值**：危急值项目数量
- **病危**：病危患者数量
- **病重**：病重患者数量
- **会诊**：会诊次数
- **住院超30天**：住院超过30天的患者数量
- **三级手术**：三级手术例数
- **四级手术**：四级手术例数
- **输血**：输血例数
- **入径**：临床路径入径例数
- **抗菌药物**：抗菌药物使用例数
- **二次手术**：二次手术例数

### 2. 查询功能

- **科室筛选**：按科室查看统计数据
- **日期筛选**：按指定日期查看统计数据
- **实时刷新**：一键刷新所有统计数据

### 3. 待办任务

- 显示当前用户的待办任务列表
- 包含任务标题、描述和创建时间
- 支持点击处理任务

### 4. 通知公告

- 显示系统最新通知公告
- 包含公告标题、内容和发布时间
- 支持点击查看公告详情

## 技术实现

### 前端技术栈

- Vue 3 + TypeScript
- Element Plus UI组件库
- ECharts图表库（预留扩展）

### 后端接口

- 科室数据：`/system/dept/list`
- 待办任务：`/system/todoTask/list`
- 通知公告：`/system/announcement/list`
- 医疗统计数据：待开发API接口

## 文件结构

```
src/views/system/medicalDashboard/
├── index.vue          # 主页面组件
└── README.md         # 说明文档
```

## 安装和配置

### 1. 数据库配置

执行以下SQL文件：

```sql
-- 添加菜单配置
add_medical_dashboard_menu.sql

-- 配置QC指标收集规则（可选）
configure_medical_quality_indicators.sql
```

### 2. 路由配置

已在 `src/router/index.ts` 中将首页设置为医疗统计仪表板：

```typescript
{
  path: '/index',
  component: () => import('@/views/system/medicalDashboard/index.vue'),
  name: 'Index',
  meta: { title: '首页', icon: 'dashboard', affix: true }
}
```

### 3. 菜单权限

- 菜单ID：21001（设置为工作台第一个菜单）
- 权限标识：`system:medicalDashboard:view`
- 支持角色：医院管理员、医生、护士、质控员

## 使用说明

1. **访问页面**：系统登录后自动进入医疗统计仪表板首页，或在工作台菜单下点击"医疗统计仪表板"
2. **数据查询**：
   - 选择科室（可选）
   - 选择日期（可选）
   - 点击"查询"按钮
3. **数据刷新**：点击"刷新"按钮更新所有统计数据
4. **任务处理**：在待办任务列表中点击"处理"按钮
5. **公告查看**：在通知公告列表中点击"查看"按钮

## 数据说明

### 当前数据状态

- 统计数据：目前使用模拟数据
- 待办任务：从 `todoTask` 表获取
- 通知公告：从 `announcement` 表获取

### 后续开发计划

1. 开发医疗统计数据API接口
2. 实现实时数据更新
3. 添加图表展示功能
4. 支持数据导出功能
5. 添加更多筛选条件

## 注意事项

1. 当前统计数据为模拟数据，实际使用时需要连接真实的后端API
2. 页面支持响应式布局，适配不同屏幕尺寸
3. 数据刷新功能可以根据需要调整刷新频率
4. 权限控制基于角色的访问控制系统

## 维护建议

1. 定期检查数据准确性
2. 根据实际业务需求调整统计指标
3. 优化页面加载性能
4. 添加数据缓存机制
